# Production Environment Configuration Template
# Copy this file to .env.production and fill in the actual values

# Basic Configuration
NODE_ENV=production
HOST=0.0.0.0
PORT=1337
PUBLIC_URL=https://your-domain.com

# Application Keys (REQUIRED - Generate strong random keys)
APP_KEYS="key1,key2,key3,key4"

# API Tokens (REQUIRED - Generate strong random tokens)
API_TOKEN_SALT="your-api-token-salt"
ADMIN_JWT_SECRET="your-admin-jwt-secret"
TRANSFER_TOKEN_SALT="your-transfer-token-salt"
JWT_SECRET="your-jwt-secret"

# Database Configuration (PostgreSQL)
DATABASE_URL="postgresql://username:password@localhost:5432/school_management"
DATABASE_SSL=true
DATABASE_SSL_REJECT_UNAUTHORIZED=false
DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10
DATABASE_ACQUIRE_TIMEOUT=30000
DATABASE_CREATE_TIMEOUT=30000
DATABASE_DESTROY_TIMEOUT=5000
DATABASE_IDLE_TIMEOUT=30000
DATABASE_REAP_INTERVAL=1000
DATABASE_CREATE_RETRY_INTERVAL=200
DATABASE_TIMEZONE=UTC
DATABASE_DEBUG=false

# Security Configuration
BEHIND_PROXY=true
ADMIN_ENABLED=true
ADMIN_URL=/admin
CORS_ORIGINS="https://your-frontend-domain.com,https://your-admin-domain.com"
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_DELAY_AFTER=50
RATE_LIMIT_DELAY_MS=500

# File Upload Configuration
MAX_FILE_SIZE=209715200
MAX_FILES=10

# Logging Configuration
LOG_LEVEL=info
LOG_EXPOSE_IN_CONTEXT=false
LOG_REQUESTS=true

# Cache Configuration
CACHE_ENABLED=true
CACHE_TYPE=memory
CACHE_TTL=3600
CACHE_MAX=1000

# Health Check
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health

# HTTP Configuration
HTTP_TIMEOUT=30000
HTTP_KEEP_ALIVE=true
HTTP_KEEP_ALIVE_TIMEOUT=5000
HTTP_HEADERS_TIMEOUT=60000

# CDN Configuration (optional)
CDN_URL=https://your-cdn-domain.com

# Admin Session Keys
ADMIN_SESSION_KEYS="session-key-1,session-key-2,session-key-3,session-key-4"

# IP Filtering (optional)
# ALLOWED_IPS="192.168.1.0/24,10.0.0.0/8"
# BLOCKED_IPS="192.168.1.100,10.0.0.50"

# Clustering (if using PM2 or similar)
CLUSTER_ENABLED=false
CLUSTER_WORKERS=4

# Webhook Configuration
WEBHOOKS_POPULATE_RELATIONS=false

# IMPORTANT SECURITY NOTES:
# 1. Generate strong random keys and secrets using: openssl rand -base64 32
# 2. Use environment-specific values for each deployment
# 3. Never commit actual production secrets to version control
# 4. Rotate secrets regularly
# 5. Use a secrets management service in production (AWS Secrets Manager, HashiCorp Vault, etc.)